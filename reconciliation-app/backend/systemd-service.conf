[Unit]
Description=Reconciliation App Spring Boot Service
After=network.target mysql.service

[Service]
Type=simple
User=reconciliation
Group=reconciliation
WorkingDirectory=/opt/reconciliation-app/backend
ExecStart=/usr/bin/java -jar -Dspring.profiles.active=prod target/csv-reconciliation-1.0.0.jar
ExecReload=/bin/kill -HUP $MAINPID
Restart=always
RestartSec=10
StandardOutput=journal
StandardError=journal
SyslogIdentifier=reconciliation-app

# Configuration de sécurité
NoNewPrivileges=true
PrivateTmp=true
ProtectSystem=strict
ProtectHome=true
ReadWritePaths=/var/log/reconciliation-app /tmp

# Variables d'environnement
Environment=DB_PASSWORD=your_secure_password
Environment=JAVA_OPTS=-Xms2048m -Xmx4096m -XX:+UseG1GC

[Install]
WantedBy=multi-user.target
