<div class="sidebar">
    <div class="logo-container">
        <i class="fas fa-sync-alt logo-icon"></i>
        <h2 class="title">Réconciliation</h2>
    </div>
    <ul class="nav-list">
        <li *ngIf="isMenuAllowed('Dashboard')">
            <a routerLink="/dashboard" routerLinkActive="active">
                <i class="fas fa-tachometer-alt menu-icon dashboard"></i>
                <span>Dashboard</span>
            </a>
        </li>
        <li *ngIf="isMenuAllowed('Traitement')">
            <a routerLink="/traitement" routerLinkActive="active">
                <i class="fas fa-tools menu-icon traitement"></i>
                <span>Traitement</span>
            </a>
        </li>
        <li *ngIf="isMenuAllowed('Réconciliation')">
            <a routerLink="/upload" routerLinkActive="active">
                <i class="fas fa-file-upload menu-icon reconciliation"></i>
                <span>Réconciliation</span>
            </a>
        </li>
        <li *ngIf="isMenuAllowed('Résultats')">
            <a routerLink="/results" routerLinkActive="active">
                <i class="fas fa-poll menu-icon resultats"></i>
                <span>Résultats</span>
            </a>
        </li>
        <li *ngIf="isMenuAllowed('Statistiques')">
            <a routerLink="/stats" routerLinkActive="active">
                <i class="fas fa-chart-bar menu-icon stats"></i>
                <span>Statistiques</span>
            </a>
        </li>
        <li *ngIf="isMenuAllowed('Classements')">
            <a routerLink="/ranking" routerLinkActive="active">
                <i class="fas fa-trophy menu-icon classements"></i>
                <span>Classements</span>
            </a>
        </li>
        <li *ngIf="isMenuAllowed('Comptes')">
            <a routerLink="/comptes" routerLinkActive="active">
                <i class="fas fa-wallet menu-icon comptes"></i>
                <span>Comptes</span>
            </a>
        </li>
        <li *ngIf="isMenuAllowed('Opérations')">
            <a routerLink="/operations" routerLinkActive="active">
                <i class="fas fa-exchange-alt menu-icon operations"></i>
                <span>Opérations</span>
            </a>
        </li>
        <li *ngIf="isMenuAllowed('Frais')">
            <a routerLink="/frais" routerLinkActive="active">
                <i class="fas fa-money-bill-wave menu-icon frais"></i>
                <span>Frais</span>
            </a>
        </li>
        <li *ngIf="isMenuAllowed('TSOP') || isMenuAllowed('Impact OP') || isMenuAllowed('TRX SF')">
            <a href="#" class="has-submenu" (click)="toggleSuiviEcartsSubmenu(); $event.preventDefault()">
                <i class="fas fa-chart-line menu-icon suivi-ecarts"></i>
                <span>Suivi des écarts</span>
                <span class="submenu-arrow">{{ showSuiviEcartsSubmenu ? '▲' : '▼' }}</span>
            </a>
            <ul class="submenu" *ngIf="showSuiviEcartsSubmenu">
                <li *ngIf="isMenuAllowed('TSOP')"><a routerLink="/ecart-solde"><i class="fas fa-exclamation-triangle menu-icon ecart-solde"></i> TSOP</a></li>
                <li *ngIf="isMenuAllowed('Impact OP')"><a routerLink="/impact-op"><i class="fas fa-chart-line menu-icon impact-op"></i> Impact OP</a></li>
                <li *ngIf="isMenuAllowed('TRX SF')"><a routerLink="/trx-sf"><i class="fas fa-exchange-alt menu-icon trx-sf"></i> TRX SF</a></li>
            </ul>
        </li>
        <li *ngIf="isMenuAllowed('BANQUE')">
            <a routerLink="/banque" routerLinkActive="active">
                <i class="fas fa-university menu-icon banque"></i>
                <span>BANQUE</span>
            </a>
        </li>

        <li *ngIf="isMenuAllowed('Modèles')">
            <a routerLink="/auto-processing-models" routerLinkActive="active">
                <i class="fas fa-cogs menu-icon models"></i>
                <span>Modèles de Traitement</span>
            </a>
        </li>
        <li>
            <a href="#" class="has-submenu" (click)="toggleParamSubmenu(); $event.preventDefault()">
                <i class="fas fa-cog menu-icon parametre"></i>
                <span>Paramètre</span>
                <span class="submenu-arrow">{{ showParamSubmenu ? '▲' : '▼' }}</span>
            </a>
            <ul class="submenu" *ngIf="showParamSubmenu">
                <li><a routerLink="/users"><i class="fas fa-user menu-icon parametre"></i> Utilisateur</a></li>
                <li><a routerLink="/profils"><i class="fas fa-id-badge menu-icon parametre"></i> Profil</a></li>
                <li><a routerLink="/modules"><i class="fas fa-cube menu-icon parametre"></i> Module</a></li>
                <li><a routerLink="/permissions"><i class="fas fa-key menu-icon parametre"></i> Permission</a></li>
                <li><a routerLink="/log-utilisateur"><i class="fas fa-history menu-icon parametre"></i> Log utilisateur</a></li>
            </ul>
        </li>
    </ul>
    <div class="sidebar-logout">
        <a href="#" class="logout-link" (click)="logout(); $event.preventDefault()">
            <i class="fas fa-sign-out-alt"></i>
            <span>Logout</span>
        </a>
    </div>
</div> 