<div class="progress-popup-backdrop">
  <div class="progress-popup">
    <h3><i class="fas fa-spinner fa-spin"></i> {{ title }}</h3>
    <div *ngIf="step">{{ step }}</div>
    <div *ngIf="totalFiles > 0">
      Fichier {{ currentFile }} / {{ totalFiles }}
    </div>
    <div class="progress-bar-container">
      <div class="progress-bar" [style.width.%]="progress"></div>
    </div>
    <div class="progress-value">{{ progress | number: '1.0-0' }}%</div>
    <div class="progress-message">{{ message }}</div>
    
    <!-- Informations détaillées de progression -->
    <div *ngIf="totalBoChunks > 0" class="progress-details">
      <div class="detail-item">
        <span class="detail-label">Chunk BO:</span>
        <span class="detail-value">{{ currentBoChunk }} / {{ totalBoChunks }}</span>
      </div>
      <div class="detail-item">
        <span class="detail-label">Matches trouvés:</span>
        <span class="detail-value">{{ matchesCount | number }}</span>
      </div>
      <div class="detail-item">
        <span class="detail-label">Écarts BO:</span>
        <span class="detail-value">{{ boOnlyCount | number }}</span>
      </div>
      <div class="detail-item">
        <span class="detail-label">Lignes Partner restantes:</span>
        <span class="detail-value">{{ partnerRemaining | number }}</span>
      </div>
    </div>
  </div>
</div> 